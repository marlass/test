on: push
name: API extractor
jobs:
  # breakingChangeDetectionBot:
  #   name: Breaking change detection bot
  #   runs-on: ubuntu-latest
  #   steps:
  #   - uses: actions/checkout@master
  #   - name: Breaking change detection bot
  #     uses: ./.github/api-extractor-action
  #     env:
  #       GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

  # lintingAndFixingStyles:
  #   name: Running prettier fix and than linting
  #   runs-on: ubuntu-latest
  #   steps:
  #   - uses: actions/checkout@master
  #   - name: Prettier fix and ng lint run
  #     run: |
  #       yarn install
  #       npm run prettier-fix
  #       npm run lint
  # testingCoreLib:
  #   name: Testing core lib
  #   runs-on: ubuntu-latest
  #   steps:
  #   - uses: actions/checkout@master
  #   - name: Testing core lib
  #     run: |
  #       yarn install
  #       npm run test:core:lib:ci
  # testingE2e:
  #   name: Testing app with e2e
  #   runs-on: ubuntu-16.04
  #   steps:
  #   - uses: actions/checkout@master
  #   - name: TTTTT
  #     run: |
  #       ng s
  #       yarn && cd projects/storefrontapp-e2e-cypress && npm i && npm run cy:run
  #     env:
  #       CYPRESS_BASE_URL: http://localhost:4200
  # buildingProjects:
  #   name: Building core lib and app
  #   runs-on: ubuntu-latest
  #   steps:
  #   - uses: actions/checkout@master
  #   - name: Core lib build and app build
  #     run: |
  #       yarn install
  #       npm run build:core:lib
  #       npm run build
  testingE2ev2:
    name: Testing app with e2e
    runs-on: ubuntu-16.04
    steps:
    - name: Install & run e2e tests
    - uses: actions/checkout@master
    - name: Install & run e2e tests 22222
    - uses: cypress-io/github-action@v1
      with:
        browser: chrome
        headless: true
        start: yarn start
        wait-on: 'http://localhost:4200'
        config-file: .\.\projects\storefrontapp-e2e-cypress\cypress.json
        wait-on-timeout: 180
